<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="“SpringBoot2.0不容错过的新特性 WebFlux响应式编程”学习笔记(一), blog">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48">
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7">
    <meta name="description" content="WebFlux响应式编程好记性不如烂笔头简书地址


慕课网学习地址：https://coding.imooc.com/class/209.html原课程是付费的，但是同事发了我下载离线版，拿来抽空学呗，学无止境。
第一节  课程介绍
第二">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>“SpringBoot2.0不容错过的新特性 WebFlux响应式编程”学习笔记(一) | 回忆点滴</title>
    <link rel="icon" type="image/svg+xml" href="/logo.svg">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?8835c2c7d2db94534f40216cf670e8ea";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-material-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"><script src="/js/prism.js"></script>
<script src="/js/prism-line-numbers.min.js"></script>
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">回忆点滴</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>时间轴</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/galleries" class="waves-effect waves-light">
            
            <i class="fa fa-photo"></i>
            
            <span>相册</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">回忆点滴</div>
        <div class="logo-desc">
            
            Keep learning, keep coding
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                时间轴
            </a>
        </li>
        
        <li>
            <a href="/galleries" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-photo"></i>
                
                相册
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/qdhaiqiang" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #F062A7;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/qdhaiqiang" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/13.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        “SpringBoot2.0不容错过的新特性 WebFlux响应式编程”学习笔记(一)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/java/" target="_blank">
                            <span class="chip bg-color">java</span>
                        </a>
                        
                        <a href="/tags/springboot/" target="_blank">
                            <span class="chip bg-color">springboot</span>
                        </a>
                        
                        <a href="/tags/webflux/" target="_blank">
                            <span class="chip bg-color">webflux</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/java/" class="post-category" target="_blank">
                            java
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2018-07-07
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    马海强
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    4.9k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    23 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>WebFlux响应式编程好记性不如烂笔头<br><a href="https://www.jianshu.com/p/682caeeb468d" target="_blank" rel="noopener">简书地址</a></p>
<a id="more"></a>

<p>慕课网学习地址：<a href="https://coding.imooc.com/class/209.html" target="_blank" rel="noopener">https://coding.imooc.com/class/209.html</a><br>原课程是付费的，但是同事发了我下载离线版，拿来抽空学呗，学无止境。</p>
<h2 id="第一节-课程介绍"><a href="#第一节-课程介绍" class="headerlink" title="第一节  课程介绍"></a>第一节  课程介绍</h2><p><img src="https://upload-images.jianshu.io/upload_images/4109786-ddcc9cce64a44a23.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="学习之路"></p>
<h2 id="第二节-函数式编程和lambda表达式"><a href="#第二节-函数式编程和lambda表达式" class="headerlink" title="第二节  函数式编程和lambda表达式"></a>第二节  函数式编程和lambda表达式</h2><ul>
<li><p>数组里取最小值</p>
<pre><code> public static void main(String[] args) {
     int[] nums = {33,55,-55,90,-666,90};

     int min = Integer.MAX_VALUE;
     for (int i : nums) {
         if(i &lt; min) {
             min = i;
         }
     }

     System.out.println(min);

     // jdk8 
     int min2 = IntStream.of(nums).parallel().min().getAsInt();
     System.out.println(min2);
 }</code></pre></li>
<li><p>多线程 匿名内部类</p>
<pre><code>  public static void main(String[] args) {
      Object target = new Runnable() {

          @Override
          public void run() {
              System.out.println("ok");
          }
      };
      new Thread((Runnable) target).start();

      // jdk8 lambda
      Object target2 = (Runnable)() -&gt; System.out.println("ok");
      Runnable target3 = () -&gt; System.out.println("ok");
      System.out.println(target2 == target3); // false

      new Thread((Runnable) target2).start();
  }</code></pre></li>
<li><p>函数接口以及链式操作</p>
<pre><code>import java.text.DecimalFormat;
import java.util.function.Function;
</code></pre></li>
</ul>
<p>class MyMoney {<br>    private final int money;</p>
<pre><code>public MyMoney(int money) {
    this.money = money;
}

public void printMoney(Function&lt;Integer, String&gt; moneyFormat) {
    System.out.println("我的存款：" + moneyFormat.apply(this.money));
}</code></pre><p>}</p>
<p>public class MoneyDemo {<br>    public static void main(String[] args) {<br>        MyMoney me = new MyMoney(99999999);<br>        Function&lt;Integer, String&gt; moneyFormat = i -&gt; new DecimalFormat(“#,###”)<br>                .format(i);<br>        // 函数接口链式操作<br>        me.printMoney(moneyFormat.andThen(s -&gt; “人民币 “ + s));<br>    }<br>}</p>
<pre><code>运行效果
&gt; 我的存款：人民币 99,999,999
* 函数式接口
![常用的lambda接口](https://upload-images.jianshu.io/upload_images/4109786-1877565bbb6f559b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</code></pre><pre><code>public static void main(String[] args) {
    // 断言函数接口
    IntPredicate predicate = i -&gt; i &gt; 0;
    System.out.println(predicate.test(-9));

    //建议使用带类型的接口，这样就不用写泛型了
    // IntConsumer
    // 消费函数接口
    Consumer&lt;String&gt; consumer = s -&gt; System.out.println(s);
    consumer.accept("输入的数据");
}</code></pre><pre><code>* 方法引用</code></pre><p>import java.util.ArrayList;<br>import java.util.List;<br>import java.util.function.Consumer;<br>import java.util.function.IntUnaryOperator;<br>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author marvin.ma</p>
</li>
<li><p>@create 2018-07-03 18:58</p>
</li>
<li><p>@desc ${DESCRIPTION}</p>
</li>
<li><p>*/<br>class Dog {<br>  private String name = “哮天犬”;</p>
<p>  /**</p>
<ul>
<li><p>默认10斤狗粮</p>
</li>
<li><p>/<br>private int food = 10;</p>
<p>public Dog() {</p>
<p>}</p>
<p>/**</p>
</li>
<li><p>带参数的构造函数</p>
</li>
<li></li>
<li><p>@param name</p>
</li>
<li><p>/<br>public Dog(String name) {<br>  this.name = name;<br>}</p>
<p>/**</p>
</li>
<li><p>狗叫，静态方法</p>
</li>
<li></li>
<li><p>@param dog</p>
</li>
<li><p>/<br>public static void bark(Dog dog) {<br>  System.out.println(dog + “叫了”);<br>}</p>
<p>/**</p>
</li>
<li><p>吃狗粮 JDK</p>
</li>
<li></li>
<li><p>默认会把当前实例传入到非静态方法，参数名为this，位置是第一个；</p>
</li>
<li></li>
<li><p>@param num</p>
</li>
<li><p>@return 还剩下多少斤</p>
</li>
<li><p>/<br>public int eat(int num) {<br>  System.out.println(“吃了” + num + “斤狗粮”);<br>  this.food -= num;<br>  return this.food;<br>}</p>
<p>@Override<br>public String toString() {<br>  return this.name;<br>}<br>}</p>
</li>
</ul>
</li>
</ul>
<p>public class MethodRefrenceDemo {</p>
<pre><code>public static void main(String[] args) {
    Dog dog = new Dog();
    dog.eat(3);

    // 方法引用
    Consumer&lt;String&gt; consumer = System.out::println;
    consumer.accept("接受的数据");

    // 静态方法的方法引用
    Consumer&lt;Dog&gt; consumer2 = Dog::bark;
    consumer2.accept(dog);

    // 非静态方法，使用对象实例的方法引用
    // Function&lt;Integer, Integer&gt; function = dog::eat;
    // UnaryOperator&lt;Integer&gt; function = dog::eat;   //入参出参都是Integer，可以用这个
    IntUnaryOperator function = dog::eat;

    // dog置空，不影响下面的函数执行，因为java 参数是传值
    dog = null;
    System.out.println("还剩下" + function.applyAsInt(2) + "斤");
    //
    // // 使用类名来方法引用
    // BiFunction&lt;Dog, Integer, Integer&gt; eatFunction = Dog::eat;
    // System.out.println("还剩下" + eatFunction.apply(dog, 2) + "斤");
    //
    // // 构造函数的方法引用
    // Supplier&lt;Dog&gt; supplier = Dog::new;
    // System.out.println("创建了新对象：" + supplier.get());
    //
    // 带参数的构造函数的方法引用
    Function&lt;String, Dog&gt; function2 = Dog::new;
    System.out.println("创建了新对象：" + function2.apply("旺财"));

    // 测试java变量是传值还是穿引用
    List&lt;String&gt; list = new ArrayList&lt;&gt;();
    test(list);

    System.err.println(list);
}

private static void test(List&lt;String&gt; list) {
    list = null;
}</code></pre><p>}</p>
<pre><code>&gt; 运行输出：
&gt; 吃了3斤狗粮
&gt; 接受的数据
&gt; 哮天犬叫了
&gt; 吃了2斤狗粮
&gt; 还剩下5斤
&gt; 创建了新对象：旺财
* 类型引用</code></pre><p>@FunctionalInterface<br>interface IMath {<br>    int add(int x, int y);<br>}</p>
<p>@FunctionalInterface<br>interface IMath2 {<br>    int sub(int x, int y);<br>}</p>
<p>public class TypeDemo {</p>
<pre><code>public static void main(String[] args) {
    // 变量类型定义
    IMath lambda = (x, y) -&gt; x + y;

    // 数组里
    IMath[] lambdas = { (x, y) -&gt; x + y };

    // 强转
    Object lambda2 = (IMath) (x, y) -&gt; x + y;

    // 通过返回类型
    IMath createLambda = createLambda();

    TypeDemo demo = new TypeDemo();
    // 当有二义性的时候，使用强转对应的接口解决
    demo.test( (IMath2)(x, y) -&gt; x + y);
}

public void test(IMath math) {

}

public void test(IMath2 math) {

}

public static IMath createLambda() {
    return  (x, y) -&gt; x + y;
}</code></pre><p>}</p>
<pre><code>* 级联表达式和珂里化
级联表达式：有多个箭头的函数
柯里化：把多个参数的函数转换为只有一个参数的函数 
高阶函数：就是返回函数的函数</code></pre><p>import java.util.function.Function;</p>
<p>/**</p>
<ul>
<li><p>级联表达式和柯里化 </p>
</li>
<li><p>柯里化:把多个参数的函数转换为只有一个参数的函数 </p>
</li>
<li><p>柯里化的目的：函数标准化</p>
</li>
<li><p>高阶函数：就是返回函数的函数</p>
</li>
<li><p>/<br>public class CurryDemo {</p>
<p>  public static void main(String[] args) {</p>
<pre><code>  // 实现了x+y的级联表达式
  Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt; fun = x -&gt; y -&gt; x
          + y;
  System.out.println(fun.apply(2).apply(3));

  Function&lt;Integer, Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt;&gt; fun2 = x -&gt; y -&gt; z -&gt; x
          + y + z;
  System.out.println(fun2.apply(2).apply(3).apply(4));

  int[] nums = { 2, 3, 4 };
  Function f = fun2;

  for (int i = 0; i &lt; nums.length; i++) {
      if (f instanceof Function) {
          Object obj = f.apply(nums[i]);
          if (obj instanceof Function) {
              f = (Function) obj;
          } else {
              System.out.println("调用结束：结果为" + obj);
          }
      }
  }</code></pre><p>  }<br>}</p>
<pre><code>执行结果
&gt; 5
&gt; 9
&gt; 调用结束：结果为9
## 第三节  Stream流编程
* demo1</code></pre><p>import java.util.stream.IntStream;</p>
</li>
</ul>
<p>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author 马海强</p>
</li>
<li><p>@create 2018-07-03 22:17</p>
</li>
<li><p>@desc ${DESCRIPTION}</p>
</li>
<li><p>*/<br>public class StreamDemo1 {<br>  public static void main(String[] args) {</p>
<pre><code>  int[] nums = {1, 2, 3};
  // 外部迭代
  int sum = 0;
  for (int i : nums) {
      sum += i;
  }
  System.out.println("结果为：" + sum);

  // 使用stream的内部迭代
  // map就是中间操作（返回stream的操作）
  // sum就是终止操作
  System.out.println("结果为：" + IntStream.of(nums).sum());

  int sum2 = IntStream.of(nums).map(i -&gt; i*2).sum();
  System.out.println("结果为：" + sum2);

  System.out.println("惰性求值就是终止没有调用的情况下，中间操作不会执行");
  IntStream.of(nums).map(StreamDemo1::doubleNum);</code></pre><p>  }</p>
<p>  public static int doubleNum(int i) {</p>
<pre><code>  System.out.println("执行了乘以2");
  return i * 2;</code></pre><p>  }<br>}</p>
<pre><code>执行结果:
&gt; 结果为：6
&gt; 结果为：6
&gt; 结果为：12
&gt; 惰性求值就是终止没有调用的情况下，中间操作不会执行
* demo 2, 流的创建
![流的创建方式](https://upload-images.jianshu.io/upload_images/4109786-6aca61443d5439ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</code></pre><p>public class StreamDemo2 {</p>
<p>  public static void main(String[] args) {</p>
<pre><code>  List&lt;String&gt; list = new ArrayList&lt;&gt;();

  // 从集合创建
  list.stream();
  list.parallelStream();

  // 从数组创建
  Arrays.stream(new int[] { 2, 3, 5 });

  // 创建数字流
  IntStream.of(1, 2, 3);
  IntStream.rangeClosed(1, 10);

  // 使用random创建一个无限流
  new Random().ints().limit(10);
  Random random = new Random();

  // 自己产生流
  Stream.generate(() -&gt; random.nextInt()).limit(20);</code></pre><p>  }</p>
</li>
</ul>
<p>}</p>
<pre><code>* demo3，流的中间操作
![流的中间操作](https://upload-images.jianshu.io/upload_images/4109786-0eeddae844f4982f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</code></pre><p>import java.util.Random;<br>import java.util.stream.Stream;</p>
<p>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author 马海强</p>
</li>
<li><p>@create 2018-07-03 22:39</p>
</li>
<li><p>@desc 流的中间操作</p>
</li>
<li><p>*/<br>public class StreamDemo3 {<br>  public static void main(String[] args) {</p>
<pre><code>  String str = "my name is 007";

  //把每个单词的长度调用出来
  Stream.of(str.split(" ")).filter(s -&gt; s.length() &gt; 2).map(s -&gt; s.length()).forEach(System.out::println);

  //flatMap 适合A元素下面有B属性，B属性是集合，最终得到所有A元素里面的所有B属性的集合
  // intStream/longStream 并不是Stream的子类，所以要进行装箱  boxed
  Stream.of(str.split(" ")).flatMap(s -&gt; s.chars().boxed())
      .forEach(i -&gt; System.out.println((char)i.intValue()));

  //peek 用于debug，是个中间操作，与foreach不同，foreach是终止操作
  System.out.println("--------------peek------------");
  Stream.of(str.split(" ")).peek(System.out::println)
          .forEach(System.out::println);

  //limit的使用
  new Random().ints().filter(i -&gt; i &gt; 100 &amp;&amp; i &lt; 1000).limit(10)
          .forEach(System.out::println);</code></pre><p>  }<br>}</p>
<pre><code>* stream的终止操作
![stream终止操作](https://upload-images.jianshu.io/upload_images/4109786-6eb9843e164771f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</code></pre><p>import java.util.*;<br>import java.util.stream.Collectors;<br>import java.util.stream.Stream;</p>
</li>
</ul>
<p>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author 马海强</p>
</li>
<li><p>@create 2018-07-06 13:33</p>
</li>
<li><p>@desc ${DESCRIPTION}</p>
</li>
<li><p>*/<br>public class StreamDemo4 {<br>  public static void main(String[] args) {</p>
<pre><code>  String str = "my name is 007";

  //使用并行流
  str.chars().parallel().forEach(i -&gt; System.out.print((char)i));
  System.out.println();
  // 使用 forEachOrdered 保证顺序
  str.chars().parallel().forEachOrdered(i -&gt; System.out.print((char) i));
  System.out.println();

  //收集到list/set   set时最后使用toSet方法
  List&lt;String&gt; list  = Stream.of(str.split(" ")).collect(Collectors.toList());
  System.out.println(list);

  //使用reduce拼接字符串
  Optional&lt;String&gt; letters = Stream.of(str.split(" ")).reduce((s1, s2) -&gt; s1 + "|" + s2);
  System.out.println(letters.orElse(""));

  //带初始值的reduce
  String reduce = Stream.of(str.split(" ")).reduce("",
          (s1, s2) -&gt; s1 + "|" + s2);
  System.out.println(reduce);

  //计算所有单词总长度
  Integer length = Stream.of(str.split(" ")).map(s -&gt; s.length())
          .reduce(0, (s1, s2) -&gt; s1 +s2);
  System.out.println(length);

  //使用max函数
  Optional&lt;String&gt; max = Stream.of(str.split(" ")).max(Comparator.comparingInt(String::length));
  System.out.println(max.get());

  //// 使用 findFirst 短路操作
  OptionalInt findFirst = new Random().ints().filter(i -&gt; i &gt; 10000).findFirst();
  System.out.println(findFirst.getAsInt());</code></pre><p>  }<br>}</p>
</li>
</ul>
<pre><code>运行结果：
&gt; immnae7y 0 0 s
&gt; my name is 007
&gt; [my, name, is, 007]&gt;
&gt; my|name|is|007
&gt; |my|name|is|007
&gt; 11
&gt; name
&gt; 113660557

* 并行流 &amp; 串行流知识点
1、调用parallel 产生一个并行流.
2、调用sequential 产生串行流.
3、多次调用 parallel / sequential, 以最后一次调用为准.
4、并行流使用的默认线程池名称: ForkJoinPool.commonPool，默认的线程数是 当前机器的cpu个数.
5、使用这个属性可以修改默认的线程数：System.setProperty("java.util.concurrent.ForkJoinPool.common.parallelism", "20");
6、一般地，推荐使用自己的线程池, 不使用默认线程池, 防止任务被阻塞。注意在main函数中调用，要让main函数不退出，等会儿再退出。自己新起的线程要用shutdown关闭，不然会一直执行着。</code></pre><p>public static void main(String[] args) {<br>  ForkJoinPool pool = new ForkJoinPool(20);<br>        pool.submit(() -&gt; IntStream.range(1, 100).parallel()<br>                .peek(StreamDemo5::debug).count());<br>        pool.shutdown();</p>
<pre><code>    synchronized (pool) {
        try {
            pool.wait();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
    }</code></pre><p>}</p>
<p>public static void debug(int i) {<br>        System.out.println(Thread.currentThread().getName() + “ debug “ + i);<br>        try {<br>            TimeUnit.SECONDS.sleep(3);<br>        } catch (InterruptedException e) {<br>            e.printStackTrace();<br>        }<br>}</p>
<pre><code>运行结果
&gt; ForkJoinPool-1-worker-25 debug 65
&gt; ForkJoinPool-1-worker-18 debug 31
&gt; ForkJoinPool-1-worker-11 debug 90
&gt; ForkJoinPool-1-worker-4 debug 15
&gt; ForkJoinPool-1-worker-19 debug 56
&gt; ForkJoinPool-1-worker-15 debug 81
&gt; ForkJoinPool-1-worker-8 debug 21
&gt; ForkJoinPool-1-worker-26 debug 40
&gt; ForkJoinPool-1-worker-29 debug 43
&gt; ForkJoinPool-1-worker-12 debug 93
&gt; ForkJoinPool-1-worker-5 debug 28
&gt; ForkJoinPool-1-worker-30 debug 78
&gt; ForkJoinPool-1-worker-22 debug 96
&gt; ForkJoinPool-1-worker-23 debug 87
&gt; ForkJoinPool-1-worker-1 debug 6
&gt; ForkJoinPool-1-worker-9 debug 12
&gt; ForkJoinPool-1-worker-16 debug 18
&gt; ForkJoinPool-1-worker-2 debug 3
&gt; ForkJoinPool-1-worker-27 debug 48
&gt; ForkJoinPool-1-worker-20 debug 37

* 收集器
所收集的对象信息</code></pre><p>public class Student {<br>    private String name;<br>    private int age;<br>    private Gender gender;<br>    private Grade grade;</p>
<pre><code>public Student(String name, int age, Gender gender, Grade grade) {
    super();
    this.name = name;
    this.age = age;
    this.gender = gender;
    this.grade = grade;
}

public String getName() {
    return name;
}

public void setName(String name) {
    this.name = name;
}

public int getAge() {
    return age;
}

public void setAge(int age) {
    this.age = age;
}

public Gender getGender() {
    return gender;
}

public void setGender(Gender gender) {
    this.gender = gender;
}

public Grade getGrade() {
    return grade;
}

public void setGrade(Grade grade) {
    this.grade = grade;
}

@Override
public String toString() {
    return "[name=" + name + ", age=" + age + ", gender=" + gender
            + ", grade=" + grade + "]";
}</code></pre><p>}</p>
<p>/**</p>
<ul>
<li>性别</li>
<li>/<br>enum Gender {<br>  MALE, FEMALE<br>}</li>
</ul>
<p>/**</p>
<ul>
<li>班级</li>
<li>/<br>enum Grade {<br>  ONE, TWO, THREE, FOUR;<br>}<pre><code>测试类：</code></pre>import org.apache.commons.collections.MapUtils;</li>
</ul>
<p>import java.util.Arrays;<br>import java.util.IntSummaryStatistics;<br>import java.util.List;<br>import java.util.Map;<br>import java.util.stream.Collectors;</p>
<p>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author 马海强</p>
</li>
<li><p>@create 2018-07-07 22:37</p>
</li>
<li><p>@desc 流收集器demo</p>
</li>
<li><p>*/<br>public class CollectDemo {<br>  public static void main(String[] args) {</p>
<pre><code>  // 测试数据
  List&lt;Student&gt; students = Arrays.asList(
          new Student("小明", 10, Gender.MALE, Grade.ONE),
          new Student("大明", 9, Gender.MALE, Grade.THREE),
          new Student("小白", 8, Gender.FEMALE, Grade.TWO),
          new Student("小黑", 13, Gender.FEMALE, Grade.FOUR),
          new Student("小红", 7, Gender.FEMALE, Grade.THREE),
          new Student("小黄", 13, Gender.MALE, Grade.ONE),
          new Student("小青", 13, Gender.FEMALE, Grade.THREE),
          new Student("小紫", 9, Gender.FEMALE, Grade.TWO),
          new Student("小王", 6, Gender.MALE, Grade.ONE),
          new Student("小李", 6, Gender.MALE, Grade.ONE),
          new Student("小马", 14, Gender.FEMALE, Grade.FOUR),
          new Student("小刘", 13, Gender.MALE, Grade.FOUR));

  // 得到所有学生的年龄列表
  // 推荐使用方法引用Student::getAge，不要使用s-&gt;s.getAge(),就不会多生成一个类似 lambda$0这样的函数
  List&lt;Integer&gt; ages = students.stream().map(Student::getAge).collect(Collectors.toList());
  System.out.println("所有学生的年龄:" + ages);</code></pre></li>
</ul>
<pre><code>    // 统计汇总信息
    IntSummaryStatistics agesSummaryStatistics = students.stream().collect(Collectors.summarizingInt(Student::getAge));
    System.out.println("年龄汇总信息:" + agesSummaryStatistics);

    //分块
    Map&lt;Boolean, List&lt;Student&gt;&gt; genders = students.stream().collect(Collectors.partitioningBy(s -&gt; s.getGender() == Gender.MALE));
    //System.out.println("男女学生列表:" + genders);
    MapUtils.verbosePrint(System.out, "男女学生列表", genders);

    //分组，比如分块就是分两组，返回boolean
    Map&lt;Grade, List&lt;Student&gt;&gt; grades = students.stream().collect(Collectors.groupingBy(Student::getGrade));
    MapUtils.verbosePrint(System.out, "学生班级列表", grades);

    //得到所有班级学生的个数
    Map&lt;Grade, Long&gt; gradesCount = students.stream().collect(Collectors.groupingBy(Student::getGrade, Collectors.counting()));
    MapUtils.verbosePrint(System.out, "学生班级个数列表", gradesCount);
}</code></pre><p>}</p>
<pre><code>运行结果：
&gt; Connected to the target VM, address: 'javadebug', transport: 'shared memory'
&gt; 所有学生的年龄:[10, 9, 8, 13, 7, 13, 13, 9, 6, 6, 14, 13]
&gt; 年龄汇总信息:IntSummaryStatistics{count=12, sum=121, min=6, average=10.083333, max=14}
&gt; 男女学生列表 = 
&gt; {
&gt;     false = [[name=小白, age=8, gender=FEMALE, grade=TWO], [name=小黑, age=13, gender=FEMALE, grade=FOUR], [name=小红, age=7, gender=FEMALE, grade=THREE], [name=小青, age=13, gender=FEMALE, grade=THREE], [name=小紫, age=9, gender=FEMALE, grade=TWO], [name=小马, age=14, gender=FEMALE, grade=FOUR]]
&gt;     true = [[name=小明, age=10, gender=MALE, grade=ONE], [name=大明, age=9, gender=MALE, grade=THREE], [name=小黄, age=13, gender=MALE, grade=ONE], [name=小王, age=6, gender=MALE, grade=ONE], [name=小李, age=6, gender=MALE, grade=ONE], [name=小刘, age=13, gender=MALE, grade=FOUR]]
&gt; }
&gt; 学生班级列表 = 
&gt; {
&gt;     ONE = [[name=小明, age=10, gender=MALE, grade=ONE], [name=小黄, age=13, gender=MALE, grade=ONE], [name=小王, age=6, gender=MALE, grade=ONE], [name=小李, age=6, gender=MALE, grade=ONE]]
&gt;     FOUR = [[name=小黑, age=13, gender=FEMALE, grade=FOUR], [name=小马, age=14, gender=FEMALE, grade=FOUR], [name=小刘, age=13, gender=MALE, grade=FOUR]]
&gt;     TWO = [[name=小白, age=8, gender=FEMALE, grade=TWO], [name=小紫, age=9, gender=FEMALE, grade=TWO]]
&gt;     THREE = [[name=大明, age=9, gender=MALE, grade=THREE], [name=小红, age=7, gender=FEMALE, grade=THREE], [name=小青, age=13, gender=FEMALE, grade=THREE]]
&gt; }
&gt; Disconnected from the target VM, address: 'javadebug', transport: 'shared memory'
&gt; 学生班级个数列表 = 
&gt; {
&gt;     ONE = 4
&gt;     FOUR = 3
&gt;     TWO = 2
&gt;     THREE = 3
&gt; }

* Stream 运行机制
验证：
 1. 所有操作是链式调用, 一个元素只迭代一次 
 2. 每一个中间操作返回一个新的流. 流里面有一个属性sourceStage 
     指向同一个 地方,就是Head 
 3. Head-&gt;nextStage-&gt;nextStage-&gt;... -&gt; null
4. 有状态操作会把无状态操作阶段,单独处理
5. 并行环境下, 有状态的中间操作不一定能并行操作
6. parallel/ sequetial 这2个操作也是中间操作(也是返回stream)
   但是他们不创建流, 他们只修改 Head的并行标志

## 第三节  reactive stream 响应式流</code></pre><p>import java.util.concurrent.Flow;<br>import java.util.concurrent.SubmissionPublisher;<br>import java.util.concurrent.TimeUnit;</p>
<p>/**</p>
<ul>
<li><p>精诚所至，金石为开。</p>
</li>
<li><p>石の上にも三年;陽気の発する所金石亦透る。</p>
</li>
<li><p>Faith moves mountains.</p>
</li>
<li></li>
<li><p>@author 马海强</p>
</li>
<li><p>@create 2018-07-08 0:03</p>
</li>
<li><p>@desc 响应式流</p>
</li>
<li><p>*/<br>public class FlowDemo {<br>  public static void main(String[] args) throws InterruptedException {</p>
<pre><code>  //1.定义发布者，发布的数据类型是Integer
  // 直接使用jdk自带的SubmissionPublisher，它实现了Publisher接口
  SubmissionPublisher&lt;Integer&gt; publisher = new SubmissionPublisher&lt;&gt;();

  //2. 定义订阅者
  Flow.Subscriber&lt;Integer&gt; subscriber = new Flow.Subscriber&lt;Integer&gt;() {

      private Flow.Subscription subscription;

      @Override
      public void onSubscribe(Flow.Subscription subscription) {
          // 保存订阅关系，需要用它来给发布者响应
          this.subscription = subscription;

          // 请求一个数据
          this.subscription.request(1);
      }

      @Override
      public void onNext(Integer item) {
          // 接收一个数据，并处理
          System.out.println("接收到的数据：" + item);

          try {
              TimeUnit.SECONDS.sleep(3);
          } catch (InterruptedException e) {
              e.printStackTrace();
          }

          // 处理完调用request再请求一个数据
          this.subscription.request(1);

          //或者 已经达到了目标，调用cancel告诉发布者不再接收数据了
          //this.subscription.cancel();
      }

      @Override
      public void onError(Throwable throwable) {
          //出现了异常（例如处理数据的时候产生了异常）
          throwable.printStackTrace();

          //我们可以告诉发布者，后面不接收数据了
          this.subscription.cancel();
      }

      @Override
      public void onComplete() {
          // 全部数据处理完了（发布者关闭了）
          System.out.println("处理完了！");
      }
  };

  //3. 发布者和订阅者建立订阅关系
  publisher.subscribe(subscriber);

  //4. 生产数据，并发布   这里忽略数据生产过程
  for (int i=0;i&lt;1000;i++) {
      System.out.println("生成数据：" + i);
      //submit 是个block方法
      publisher.submit(i);
  }

  //5. 结束后  关闭发布者
  // 正式环境应该放在finally或者使用try-resource 确保关闭
  publisher.close();

  //主线程延迟停止， 否则数据没有消费就退出了
  Thread.currentThread().join(1000);

  //debug的时候，下面这行需要有断点。否则主线程结束无法debug
  System.out.println();</code></pre><p>  }</p>
</li>
</ul>
<p>}</p>
<pre><code>运行效果
&gt; 生成数据：262
&gt; 接收到的数据：6
&gt; 生成数据：263
&gt; 接收到的数据：7
&gt; 生成数据：264
&gt; 接收到的数据：8
&gt; 生成数据：265
&gt; 接收到的数据：9
&gt; 生成数据：266
&gt; 接收到的数据：10
&gt; 生成数据：267
&gt; 接收到的数据：11
&gt; 生成数据：268

另一个例子</code></pre><p>import java.util.concurrent.Flow;<br>import java.util.concurrent.SubmissionPublisher;</p>
<p>/**</p>
<ul>
<li>精诚所至，金石为开。</li>
<li>石の上にも三年;陽気の発する所金石亦透る。</li>
<li>Faith moves mountains.</li>
<li></li>
<li>@author 马海强</li>
<li>@create 2018-07-08 23:14</li>
<li>@desc 带 process 的 flow demo</li>
<li>Processor, 需要继承SubmissionPublisher并实现Processor接口</li>
<li>输入源数据 integer, 过滤掉小于0的, 然后转换成字符串发布出去</li>
<li>*/</li>
</ul>
<p>class MyProcessor extends SubmissionPublisher<string> implements Flow.Processor&lt;Integer, String&gt; {<br>    private Flow.Subscription subscription;</string></p>
<pre><code>@Override
public void onSubscribe(Flow.Subscription subscription) {
    // 保存订阅关系, 需要用它来给发布者响应
    this.subscription = subscription;

    // 请求一个数据
    this.subscription.request(1);
}

@Override
public void onNext(Integer item) {
    // 接受到一个数据, 处理
    System.out.println("处理器接受到数据: " + item);

    // 过滤掉小于0的, 然后发布出去
    if (item &gt; 0) {
        this.submit("转换后的数据:" + item);
    }

    // 处理完调用request再请求一个数据
    this.subscription.request(1);

    // 或者 已经达到了目标, 调用cancel告诉发布者不再接受数据了
    // this.subscription.cancel();
}

@Override
public void onError(Throwable throwable) {
    // 出现了异常(例如处理数据的时候产生了异常)
    throwable.printStackTrace();

    // 我们可以告诉发布者, 后面不接受数据了
    this.subscription.cancel();
}

@Override
public void onComplete() {
    // 全部数据处理完了(发布者关闭了)
    System.out.println("处理器处理完了!");
    // 关闭发布者
    this.close();
}</code></pre><p>}</p>
<p>public class FlowDemo2 {<br>    public static void main(String[] args) throws Exception {<br>        // 1. 定义发布者, 发布的数据类型是 Integer<br>        // 直接使用jdk自带的SubmissionPublisher<br>        SubmissionPublisher<integer> publiser = new SubmissionPublisher<integer>();</integer></integer></p>
<pre><code>    // 2. 定义处理器, 对数据进行过滤, 并转换为String类型
    MyProcessor processor = new MyProcessor();

    // 3. 发布者 和 处理器 建立订阅关系
    publiser.subscribe(processor);

    // 4. 定义最终订阅者, 消费 String 类型数据
    Flow.Subscriber&lt;String&gt; subscriber = new Flow.Subscriber&lt;String&gt;() {

        private Flow.Subscription subscription;

        @Override
        public void onSubscribe(Flow.Subscription subscription) {
            // 保存订阅关系, 需要用它来给发布者响应
            this.subscription = subscription;

            // 请求一个数据
            this.subscription.request(1);
        }

        @Override
        public void onNext(String item) {
            // 接受到一个数据, 处理
            System.out.println("接受到数据: " + item);

            // 处理完调用request再请求一个数据
            this.subscription.request(1);

            // 或者 已经达到了目标, 调用cancel告诉发布者不再接受数据了
            // this.subscription.cancel();
        }

        @Override
        public void onError(Throwable throwable) {
            // 出现了异常(例如处理数据的时候产生了异常)
            throwable.printStackTrace();

            // 我们可以告诉发布者, 后面不接受数据了
            this.subscription.cancel();
        }

        @Override
        public void onComplete() {
            // 全部数据处理完了(发布者关闭了)
            System.out.println("处理完了!");
        }

    };

    // 5. 处理器 和 最终订阅者 建立订阅关系
    processor.subscribe(subscriber);

    // 6. 生产数据, 并发布
    // 这里忽略数据生产过程
    publiser.submit(-111);
    publiser.submit(111);

    // 7. 结束后 关闭发布者
    // 正式环境 应该放 finally 或者使用 try-resouce 确保关闭
    publiser.close();

    // 主线程延迟停止, 否则数据没有消费就退出
    Thread.currentThread().join(1000);
}</code></pre><p>}<br>```<br>运行结果:</p>
<blockquote>
<p>处理器接受到数据: -111<br>处理器接受到数据: 111<br>处理器处理完了!<br>接受到数据: 转换后的数据:111<br>处理完了!</p>
</blockquote>

            </div>
            <hr />

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">写作不易，客官能否打赏一杯奶茶？</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《“SpringBoot2.0不容错过的新特性 WebFlux响应式编程”学习笔记(一)》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2018/07/07/springboot2.0-webflux-xue-xi-bi-ji-1/" property="cc:attributionName"
               rel="cc:attributionURL">
                马海强
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'true' === 'true',
        verify: 'false' === 'true',
        visitor: '' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'ヾﾉ≧∀≦)o 来呀！吐槽一番吧！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2018/07/07/tcpdump-zhua-bao-bing-yong-wireshark-jin-xing-shu-ju-fen-xi/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="tcpdump抓包并用WireShark进行数据分析">
                        
                        <span class="card-title">tcpdump抓包并用WireShark进行数据分析</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            在linux上使用tcpdump抓取http/tcp报文，使用WireShark进行参数分析。简书地址


1、使用背景最近在项目开发时遇到一种情况，写的接口前端同事反馈是400，后端同事认为http status 是4开头的，肯定是前端的
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2018-07-07
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/工具使用/" class="post-category" target="_blank">
                                    工具使用
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/linux/" target="_blank">
                        <span class="chip bg-color">linux</span>
                    </a>
                    
                    <a href="/tags/tools/" target="_blank">
                        <span class="chip bg-color">tools</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2018/07/01/springboot-zhi-fu-wu-duan-tui-song-shi-jian-sse-server-send-events/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="springboot之“服务端推送事件SSE（server-send-events）”">
                        
                        <span class="card-title">springboot之“服务端推送事件SSE（server-send-events）”</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            server-send-events简单应用demo简书地址

1.应用场景当我们做异步请求处理的时候，客户端向服务端的请求不是立即返回的，而是在服务端有数据的时候才发送给客户端的。本例演示是服务端数据是另外的事件触发并推送给客户端的。
当
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2018-07-01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/java/" class="post-category" target="_blank">
                                    java
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/" target="_blank">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/springboot/" target="_blank">
                        <span class="chip bg-color">springboot</span>
                    </a>
                    
                    <a href="/tags/sse/" target="_blank">
                        <span class="chip bg-color">sse</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2018-2021 Marvin. 版权所有

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">138.1k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/qdhaiqiang" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:qdhaiqiang@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="https://gitee.com/marvinma/imagebed/raw/master/img/weichat.png" class="tooltipped" target="_blank" data-tooltip="微信联系我: https://gitee.com/marvinma/imagebed/raw/master/img/weichat.png" data-position="top" data-delay="50">
        <i class="fa fa-weixin"></i>
    </a>





    <a href="http://wpa.qq.com/msgrd?v=3&uin=389709260&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>





    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 80000;
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2017, 09, 11, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; 
    document.addEventListener("visibilitychange", function () { document.hidden ? 
        (document.title = "走了你还会回来的~", clearTimeout(st)) : 
        (document.title = "你看回来了吧！！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=查教程获取"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '查教程获取');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"live2d-widget-model-shizuku"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":false},"react":{"opacity":0.7}});</script></body>

</html>